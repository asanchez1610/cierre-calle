<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="pe.gob.miraflores.mobile.dao.mapaincidencias.MapaIncidenciasRegistroMapper">
  <resultMap id="BaseResultMap" type="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistro">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 10 12:32:50 COT 2016.
    -->
    <id column="ID_INCIDENCIA" jdbcType="INTEGER" property="idIncidencia" />
    <result column="ID_EVENTO" jdbcType="INTEGER" property="idEvento" />
    <result column="TIPO_EVENTO" jdbcType="INTEGER" property="tipoEvento" />
    <result column="SUB_TIPO" jdbcType="INTEGER" property="subTipo" />
    <result column="FEC_HORA_INICIO" jdbcType="TIMESTAMP" property="fecHoraInicio" />
    <result column="FEC_HORA_FIN" jdbcType="TIMESTAMP" property="fecHoraFin" />
    <result column="DESCRIPCION" jdbcType="VARCHAR" property="descripcion" />
    <result column="SEVERIDAD" jdbcType="VARCHAR" property="severidad" />
    <result column="CALLE" jdbcType="VARCHAR" property="calle" />
    <result column="TIPO_DIRECCION" jdbcType="INTEGER" property="tipoDireccion" />
    <result column="DIRECCION_FINAL" jdbcType="VARCHAR" property="direccionFinal" />
    <result column="NOMBRE_CALLE_INICIO" jdbcType="VARCHAR" property="nombreCalleInicio" />
    <result column="NOMBRE_CALLE_FIN" jdbcType="VARCHAR" property="nombreCalleFin" />
    <result column="FEC_REGISTRA" jdbcType="TIMESTAMP" property="fecRegistra" />
    <result column="FEC_MODIFICA" jdbcType="TIMESTAMP" property="fecModifica" />
    <result column="DES_USU_REGISTRA" jdbcType="VARCHAR" property="desUsuRegistra" />
    <result column="DES_USU_MODIFICA" jdbcType="VARCHAR" property="desUsuModifica" />
    <result column="DES_IP_REGISTRA" jdbcType="VARCHAR" property="desIpRegistra" />
    <result column="DES_IP_MODIFICA" jdbcType="VARCHAR" property="desIpModifica" />
    <result column="ID_TIPO_VIA" jdbcType="INTEGER" property="idTipoVia" />
    <result column="CUADRA_EVENTO" jdbcType="INTEGER" property="cuadraEvento" />
    <result column="ID_VIA" jdbcType="INTEGER" property="idVia" />
    <result column="ID_CASO_VOXIVA" jdbcType="INTEGER" property="idCasoVoxiva" />
    <result column="TIPO_CASO_VOXIVA" jdbcType="INTEGER" property="tipoCasoVoxiva" />
    <result column="SUB_TIPO_CASO_VOXIVA" jdbcType="INTEGER" property="subTipoCasoVoxiva" />
    <result column="TIPO_INCIDENCIA" jdbcType="INTEGER" property="tipoIncidencia" />
    <result column="ID_VIA_CATASTRO" jdbcType="INTEGER" property="idViaCatastro" />
    <result column="ID_TIPO_VIA_CATASTRO" jdbcType="INTEGER" property="idTipoViaCatastro" />
    <result column="ESTADO" jdbcType="VARCHAR" property="estado" />
    <result column="TIPO_CIERRE" jdbcType="VARCHAR" property="tipoCierre" />
    <result column="DES_CALLLES" jdbcType="VARCHAR" property="desCallles" />
    <result column="USUARIO_REGISTRO" jdbcType="INTEGER" property="usuarioRegistro" />
    <result column="USUARIO_MODIFICA" jdbcType="INTEGER" property="usuarioModifica" />
    <result column="VISIBLE" jdbcType="VARCHAR" property="visible" />
    <result column="ID_DISPOSITIVO" jdbcType="VARCHAR" property="idDispositivo" />
    <result column="HORA_LLAMADA_VOXIVA" jdbcType="VARCHAR" property="horaLlamadaVoxiva" />
    <result column="NOMBRE_REPORTA_INCIDENCIA" jdbcType="VARCHAR" property="nombreReportaIncidencia" />
    <result column="DIRECCION_INCIDENCIA" jdbcType="VARCHAR" property="direccionIncidencia" />
    <result column="ACCIONES_INCIDENCIA" jdbcType="VARCHAR" property="accionesIncidencia" />
    <result column="NOMBRE_RECEPCIONA_INCIDENCIA" jdbcType="VARCHAR" property="nombreRecepcionaIncidencia" />
    <result column="DNI_RECEPCIONA_INCIDENCIA" jdbcType="VARCHAR" property="dniRecepcionaIncidencia" />
    <result column="NRO_CASO_VOXIVA" jdbcType="VARCHAR" property="nroCasoVoxiva" />
    <result column="TELEF_REPORTA_INCIDENCIA" jdbcType="VARCHAR" property="telefReportaIncidencia" />
    <result column="INCIDENCIA_PRESENTADA" jdbcType="VARCHAR" property="incidenciaPresentada" />
    <result column="MEDIO_INGRESO" jdbcType="INTEGER" property="medioIngreso" />
    <result column="ESTADO_CALIF_VOXIVA" jdbcType="VARCHAR" property="estadoCalifVoxiva" />
    <result column="ESTADO_VOXIVA" jdbcType="VARCHAR" property="estadoVoxiva" />
    <result column="DES_ESTADO_VOXIVA" jdbcType="VARCHAR" property="desEstadoVoxiva" />
    <result column="SUB_ESTADO_VOXIVA" jdbcType="VARCHAR" property="subEstadoVoxiva" />
    <result column="DES_SUB_ESTADO_VOXIVA" jdbcType="VARCHAR" property="desSubEstadoVoxiva" />
    <result column="DES_ESTADO_CALIF_VOXIVA" jdbcType="VARCHAR" property="desEstadoCalifVoxiva" />
    <result column="UNID_INTERV_VOXIVA" jdbcType="VARCHAR" property="unidIntervVoxiva" />
    <result column="DES_UNID_INTERV_VOXIVA" jdbcType="VARCHAR" property="desUnidIntervVoxiva" />
    <result column="IMPORTANTE_VOXIVA" jdbcType="VARCHAR" property="importanteVoxiva" />
    <result column="LLAMADA_DEVUELTA_VOXIVA" jdbcType="VARCHAR" property="llamadaDevueltaVoxiva" />
    <result column="FECHA_HORA_ATENCION_VOXIVA" jdbcType="VARCHAR" property="fechaHoraAtencionVoxiva" />
    <result column="IND_LEIDO" jdbcType="VARCHAR" property="indLeido" />
  </resultMap>
  <sql id="Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 10 12:32:50 COT 2016.
    -->
    <where>
      <foreach collection="oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Update_By_Example_Where_Clause">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 10 12:32:50 COT 2016.
    -->
    <where>
      <foreach collection="example.oredCriteria" item="criteria" separator="or">
        <if test="criteria.valid">
          <trim prefix="(" prefixOverrides="and" suffix=")">
            <foreach collection="criteria.criteria" item="criterion">
              <choose>
                <when test="criterion.noValue">
                  and ${criterion.condition}
                </when>
                <when test="criterion.singleValue">
                  and ${criterion.condition} #{criterion.value}
                </when>
                <when test="criterion.betweenValue">
                  and ${criterion.condition} #{criterion.value} and #{criterion.secondValue}
                </when>
                <when test="criterion.listValue">
                  and ${criterion.condition}
                  <foreach close=")" collection="criterion.value" item="listItem" open="(" separator=",">
                    #{listItem}
                  </foreach>
                </when>
              </choose>
            </foreach>
          </trim>
        </if>
      </foreach>
    </where>
  </sql>
  <sql id="Base_Column_List">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 10 12:32:50 COT 2016.
    -->
    ID_INCIDENCIA, ID_EVENTO, TIPO_EVENTO, SUB_TIPO, FEC_HORA_INICIO, FEC_HORA_FIN, DESCRIPCION, 
    SEVERIDAD, CALLE, TIPO_DIRECCION, DIRECCION_FINAL, NOMBRE_CALLE_INICIO, NOMBRE_CALLE_FIN, 
    FEC_REGISTRA, FEC_MODIFICA, DES_USU_REGISTRA, DES_USU_MODIFICA, DES_IP_REGISTRA, 
    DES_IP_MODIFICA, ID_TIPO_VIA, CUADRA_EVENTO, ID_VIA, ID_CASO_VOXIVA, TIPO_CASO_VOXIVA, 
    SUB_TIPO_CASO_VOXIVA, TIPO_INCIDENCIA, ID_VIA_CATASTRO, ID_TIPO_VIA_CATASTRO, ESTADO, 
    TIPO_CIERRE, DES_CALLLES, USUARIO_REGISTRO, USUARIO_MODIFICA, VISIBLE, ID_DISPOSITIVO, 
    HORA_LLAMADA_VOXIVA, NOMBRE_REPORTA_INCIDENCIA, DIRECCION_INCIDENCIA, ACCIONES_INCIDENCIA, 
    NOMBRE_RECEPCIONA_INCIDENCIA, DNI_RECEPCIONA_INCIDENCIA, NRO_CASO_VOXIVA, TELEF_REPORTA_INCIDENCIA, 
    INCIDENCIA_PRESENTADA, MEDIO_INGRESO, ESTADO_CALIF_VOXIVA, ESTADO_VOXIVA, DES_ESTADO_VOXIVA, 
    SUB_ESTADO_VOXIVA, DES_SUB_ESTADO_VOXIVA, DES_ESTADO_CALIF_VOXIVA, UNID_INTERV_VOXIVA, 
    DES_UNID_INTERV_VOXIVA, IMPORTANTE_VOXIVA, LLAMADA_DEVUELTA_VOXIVA, FECHA_HORA_ATENCION_VOXIVA, 
    IND_LEIDO
  </sql>
  <select id="selectByExample" parameterType="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistroCriteria" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 10 12:32:50 COT 2016.
    -->
    select
    <if test="distinct">
      distinct
    </if>
    <include refid="Base_Column_List" />
    from GEO_INCIDENCIA_MAP
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
    <if test="orderByClause != null">
      order by ${orderByClause}
    </if>
  </select>
  <select id="selectByPrimaryKey" parameterType="java.lang.Integer" resultMap="BaseResultMap">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 10 12:32:50 COT 2016.
    -->
    select 
    <include refid="Base_Column_List" />
    from GEO_INCIDENCIA_MAP
    where ID_INCIDENCIA = #{idIncidencia,jdbcType=INTEGER}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 10 12:32:50 COT 2016.
    -->
    delete from GEO_INCIDENCIA_MAP
    where ID_INCIDENCIA = #{idIncidencia,jdbcType=INTEGER}
  </delete>
  <delete id="deleteByExample" parameterType="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistroCriteria">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 10 12:32:50 COT 2016.
    -->
    delete from GEO_INCIDENCIA_MAP
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </delete>
  <insert id="insert" parameterType="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistro">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 10 12:32:50 COT 2016.
    -->
    insert into GEO_INCIDENCIA_MAP (ID_INCIDENCIA, ID_EVENTO, TIPO_EVENTO, 
      SUB_TIPO, FEC_HORA_INICIO, FEC_HORA_FIN, 
      DESCRIPCION, SEVERIDAD, CALLE, 
      TIPO_DIRECCION, DIRECCION_FINAL, NOMBRE_CALLE_INICIO, 
      NOMBRE_CALLE_FIN, FEC_REGISTRA, FEC_MODIFICA, 
      DES_USU_REGISTRA, DES_USU_MODIFICA, DES_IP_REGISTRA, 
      DES_IP_MODIFICA, ID_TIPO_VIA, CUADRA_EVENTO, 
      ID_VIA, ID_CASO_VOXIVA, TIPO_CASO_VOXIVA, 
      SUB_TIPO_CASO_VOXIVA, TIPO_INCIDENCIA, ID_VIA_CATASTRO, 
      ID_TIPO_VIA_CATASTRO, ESTADO, TIPO_CIERRE, 
      DES_CALLLES, USUARIO_REGISTRO, USUARIO_MODIFICA, 
      VISIBLE, ID_DISPOSITIVO, HORA_LLAMADA_VOXIVA, 
      NOMBRE_REPORTA_INCIDENCIA, DIRECCION_INCIDENCIA, 
      ACCIONES_INCIDENCIA, NOMBRE_RECEPCIONA_INCIDENCIA, 
      DNI_RECEPCIONA_INCIDENCIA, NRO_CASO_VOXIVA, 
      TELEF_REPORTA_INCIDENCIA, INCIDENCIA_PRESENTADA, 
      MEDIO_INGRESO, ESTADO_CALIF_VOXIVA, ESTADO_VOXIVA, 
      DES_ESTADO_VOXIVA, SUB_ESTADO_VOXIVA, DES_SUB_ESTADO_VOXIVA, 
      DES_ESTADO_CALIF_VOXIVA, UNID_INTERV_VOXIVA, 
      DES_UNID_INTERV_VOXIVA, IMPORTANTE_VOXIVA, 
      LLAMADA_DEVUELTA_VOXIVA, FECHA_HORA_ATENCION_VOXIVA, 
      IND_LEIDO)
    values (#{idIncidencia,jdbcType=INTEGER}, #{idEvento,jdbcType=INTEGER}, #{tipoEvento,jdbcType=INTEGER}, 
      #{subTipo,jdbcType=INTEGER}, #{fecHoraInicio,jdbcType=TIMESTAMP}, #{fecHoraFin,jdbcType=TIMESTAMP}, 
      #{descripcion,jdbcType=VARCHAR}, #{severidad,jdbcType=VARCHAR}, #{calle,jdbcType=VARCHAR}, 
      #{tipoDireccion,jdbcType=INTEGER}, #{direccionFinal,jdbcType=VARCHAR}, #{nombreCalleInicio,jdbcType=VARCHAR}, 
      #{nombreCalleFin,jdbcType=VARCHAR}, #{fecRegistra,jdbcType=TIMESTAMP}, #{fecModifica,jdbcType=TIMESTAMP}, 
      #{desUsuRegistra,jdbcType=VARCHAR}, #{desUsuModifica,jdbcType=VARCHAR}, #{desIpRegistra,jdbcType=VARCHAR}, 
      #{desIpModifica,jdbcType=VARCHAR}, #{idTipoVia,jdbcType=INTEGER}, #{cuadraEvento,jdbcType=INTEGER}, 
      #{idVia,jdbcType=INTEGER}, #{idCasoVoxiva,jdbcType=INTEGER}, #{tipoCasoVoxiva,jdbcType=INTEGER}, 
      #{subTipoCasoVoxiva,jdbcType=INTEGER}, #{tipoIncidencia,jdbcType=INTEGER}, #{idViaCatastro,jdbcType=INTEGER}, 
      #{idTipoViaCatastro,jdbcType=INTEGER}, #{estado,jdbcType=VARCHAR}, #{tipoCierre,jdbcType=VARCHAR}, 
      #{desCallles,jdbcType=VARCHAR}, #{usuarioRegistro,jdbcType=INTEGER}, #{usuarioModifica,jdbcType=INTEGER}, 
      #{visible,jdbcType=VARCHAR}, #{idDispositivo,jdbcType=VARCHAR}, #{horaLlamadaVoxiva,jdbcType=VARCHAR}, 
      #{nombreReportaIncidencia,jdbcType=VARCHAR}, #{direccionIncidencia,jdbcType=VARCHAR}, 
      #{accionesIncidencia,jdbcType=VARCHAR}, #{nombreRecepcionaIncidencia,jdbcType=VARCHAR}, 
      #{dniRecepcionaIncidencia,jdbcType=VARCHAR}, #{nroCasoVoxiva,jdbcType=VARCHAR}, 
      #{telefReportaIncidencia,jdbcType=VARCHAR}, #{incidenciaPresentada,jdbcType=VARCHAR}, 
      #{medioIngreso,jdbcType=INTEGER}, #{estadoCalifVoxiva,jdbcType=VARCHAR}, #{estadoVoxiva,jdbcType=VARCHAR}, 
      #{desEstadoVoxiva,jdbcType=VARCHAR}, #{subEstadoVoxiva,jdbcType=VARCHAR}, #{desSubEstadoVoxiva,jdbcType=VARCHAR}, 
      #{desEstadoCalifVoxiva,jdbcType=VARCHAR}, #{unidIntervVoxiva,jdbcType=VARCHAR}, 
      #{desUnidIntervVoxiva,jdbcType=VARCHAR}, #{importanteVoxiva,jdbcType=VARCHAR}, 
      #{llamadaDevueltaVoxiva,jdbcType=VARCHAR}, #{fechaHoraAtencionVoxiva,jdbcType=VARCHAR}, 
      #{indLeido,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" parameterType="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistro">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 10 12:32:50 COT 2016.
    -->
    
    <selectKey keyProperty="idIncidencia" resultType="int" order="BEFORE" >
		SELECT (CASE WHEN MAX(ID_INCIDENCIA) IS NULL THEN 1 ELSE MAX(ID_INCIDENCIA)+1 END) AS VALUE FROM GEO_INCIDENCIA_MAP  
	</selectKey>
	
    insert into GEO_INCIDENCIA_MAP
    <trim prefix="(" suffix=")" suffixOverrides=",">
      <if test="idIncidencia != null">
        ID_INCIDENCIA,
      </if>
      <if test="idEvento != null">
        ID_EVENTO,
      </if>
      <if test="tipoEvento != null">
        TIPO_EVENTO,
      </if>
      <if test="subTipo != null">
        SUB_TIPO,
      </if>
      <if test="fecHoraInicio != null">
        FEC_HORA_INICIO,
      </if>
      <if test="fecHoraFin != null">
        FEC_HORA_FIN,
      </if>
      <if test="descripcion != null">
        DESCRIPCION,
      </if>
      <if test="severidad != null">
        SEVERIDAD,
      </if>
      <if test="calle != null">
        CALLE,
      </if>
      <if test="tipoDireccion != null">
        TIPO_DIRECCION,
      </if>
      <if test="direccionFinal != null">
        DIRECCION_FINAL,
      </if>
      <if test="nombreCalleInicio != null">
        NOMBRE_CALLE_INICIO,
      </if>
      <if test="nombreCalleFin != null">
        NOMBRE_CALLE_FIN,
      </if>
      <if test="fecRegistra != null">
        FEC_REGISTRA,
      </if>
      <if test="fecModifica != null">
        FEC_MODIFICA,
      </if>
      <if test="desUsuRegistra != null">
        DES_USU_REGISTRA,
      </if>
      <if test="desUsuModifica != null">
        DES_USU_MODIFICA,
      </if>
      <if test="desIpRegistra != null">
        DES_IP_REGISTRA,
      </if>
      <if test="desIpModifica != null">
        DES_IP_MODIFICA,
      </if>
      <if test="idTipoVia != null">
        ID_TIPO_VIA,
      </if>
      <if test="cuadraEvento != null">
        CUADRA_EVENTO,
      </if>
      <if test="idVia != null">
        ID_VIA,
      </if>
      <if test="idCasoVoxiva != null">
        ID_CASO_VOXIVA,
      </if>
      <if test="tipoCasoVoxiva != null">
        TIPO_CASO_VOXIVA,
      </if>
      <if test="subTipoCasoVoxiva != null">
        SUB_TIPO_CASO_VOXIVA,
      </if>
      <if test="tipoIncidencia != null">
        TIPO_INCIDENCIA,
      </if>
      <if test="idViaCatastro != null">
        ID_VIA_CATASTRO,
      </if>
      <if test="idTipoViaCatastro != null">
        ID_TIPO_VIA_CATASTRO,
      </if>
      <if test="estado != null">
        ESTADO,
      </if>
      <if test="tipoCierre != null">
        TIPO_CIERRE,
      </if>
      <if test="desCallles != null">
        DES_CALLLES,
      </if>
      <if test="usuarioRegistro != null">
        USUARIO_REGISTRO,
      </if>
      <if test="usuarioModifica != null">
        USUARIO_MODIFICA,
      </if>
      <if test="visible != null">
        VISIBLE,
      </if>
      <if test="idDispositivo != null">
        ID_DISPOSITIVO,
      </if>
      <if test="horaLlamadaVoxiva != null">
        HORA_LLAMADA_VOXIVA,
      </if>
      <if test="nombreReportaIncidencia != null">
        NOMBRE_REPORTA_INCIDENCIA,
      </if>
      <if test="direccionIncidencia != null">
        DIRECCION_INCIDENCIA,
      </if>
      <if test="accionesIncidencia != null">
        ACCIONES_INCIDENCIA,
      </if>
      <if test="nombreRecepcionaIncidencia != null">
        NOMBRE_RECEPCIONA_INCIDENCIA,
      </if>
      <if test="dniRecepcionaIncidencia != null">
        DNI_RECEPCIONA_INCIDENCIA,
      </if>
      <if test="nroCasoVoxiva != null">
        NRO_CASO_VOXIVA,
      </if>
      <if test="telefReportaIncidencia != null">
        TELEF_REPORTA_INCIDENCIA,
      </if>
      <if test="incidenciaPresentada != null">
        INCIDENCIA_PRESENTADA,
      </if>
      <if test="medioIngreso != null">
        MEDIO_INGRESO,
      </if>
      <if test="estadoCalifVoxiva != null">
        ESTADO_CALIF_VOXIVA,
      </if>
      <if test="estadoVoxiva != null">
        ESTADO_VOXIVA,
      </if>
      <if test="desEstadoVoxiva != null">
        DES_ESTADO_VOXIVA,
      </if>
      <if test="subEstadoVoxiva != null">
        SUB_ESTADO_VOXIVA,
      </if>
      <if test="desSubEstadoVoxiva != null">
        DES_SUB_ESTADO_VOXIVA,
      </if>
      <if test="desEstadoCalifVoxiva != null">
        DES_ESTADO_CALIF_VOXIVA,
      </if>
      <if test="unidIntervVoxiva != null">
        UNID_INTERV_VOXIVA,
      </if>
      <if test="desUnidIntervVoxiva != null">
        DES_UNID_INTERV_VOXIVA,
      </if>
      <if test="importanteVoxiva != null">
        IMPORTANTE_VOXIVA,
      </if>
      <if test="llamadaDevueltaVoxiva != null">
        LLAMADA_DEVUELTA_VOXIVA,
      </if>
      <if test="fechaHoraAtencionVoxiva != null">
        FECHA_HORA_ATENCION_VOXIVA,
      </if>
      <if test="indLeido != null">
        IND_LEIDO,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides=",">
      <if test="idIncidencia != null">
        #{idIncidencia,jdbcType=INTEGER},
      </if>
      <if test="idEvento != null">
        #{idEvento,jdbcType=INTEGER},
      </if>
      <if test="tipoEvento != null">
        #{tipoEvento,jdbcType=INTEGER},
      </if>
      <if test="subTipo != null">
        #{subTipo,jdbcType=INTEGER},
      </if>
      <if test="fecHoraInicio != null">
        #{fecHoraInicio,jdbcType=TIMESTAMP},
      </if>
      <if test="fecHoraFin != null">
        #{fecHoraFin,jdbcType=TIMESTAMP},
      </if>
      <if test="descripcion != null">
        #{descripcion,jdbcType=VARCHAR},
      </if>
      <if test="severidad != null">
        #{severidad,jdbcType=VARCHAR},
      </if>
      <if test="calle != null">
        #{calle,jdbcType=VARCHAR},
      </if>
      <if test="tipoDireccion != null">
        #{tipoDireccion,jdbcType=INTEGER},
      </if>
      <if test="direccionFinal != null">
        #{direccionFinal,jdbcType=VARCHAR},
      </if>
      <if test="nombreCalleInicio != null">
        #{nombreCalleInicio,jdbcType=VARCHAR},
      </if>
      <if test="nombreCalleFin != null">
        #{nombreCalleFin,jdbcType=VARCHAR},
      </if>
      <if test="fecRegistra != null">
        #{fecRegistra,jdbcType=TIMESTAMP},
      </if>
      <if test="fecModifica != null">
        #{fecModifica,jdbcType=TIMESTAMP},
      </if>
      <if test="desUsuRegistra != null">
        #{desUsuRegistra,jdbcType=VARCHAR},
      </if>
      <if test="desUsuModifica != null">
        #{desUsuModifica,jdbcType=VARCHAR},
      </if>
      <if test="desIpRegistra != null">
        #{desIpRegistra,jdbcType=VARCHAR},
      </if>
      <if test="desIpModifica != null">
        #{desIpModifica,jdbcType=VARCHAR},
      </if>
      <if test="idTipoVia != null">
        #{idTipoVia,jdbcType=INTEGER},
      </if>
      <if test="cuadraEvento != null">
        #{cuadraEvento,jdbcType=INTEGER},
      </if>
      <if test="idVia != null">
        #{idVia,jdbcType=INTEGER},
      </if>
      <if test="idCasoVoxiva != null">
        #{idCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="tipoCasoVoxiva != null">
        #{tipoCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="subTipoCasoVoxiva != null">
        #{subTipoCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="tipoIncidencia != null">
        #{tipoIncidencia,jdbcType=INTEGER},
      </if>
      <if test="idViaCatastro != null">
        #{idViaCatastro,jdbcType=INTEGER},
      </if>
      <if test="idTipoViaCatastro != null">
        #{idTipoViaCatastro,jdbcType=INTEGER},
      </if>
      <if test="estado != null">
        #{estado,jdbcType=VARCHAR},
      </if>
      <if test="tipoCierre != null">
        #{tipoCierre,jdbcType=VARCHAR},
      </if>
      <if test="desCallles != null">
        #{desCallles,jdbcType=VARCHAR},
      </if>
      <if test="usuarioRegistro != null">
        #{usuarioRegistro,jdbcType=INTEGER},
      </if>
      <if test="usuarioModifica != null">
        #{usuarioModifica,jdbcType=INTEGER},
      </if>
      <if test="visible != null">
        #{visible,jdbcType=VARCHAR},
      </if>
      <if test="idDispositivo != null">
        #{idDispositivo,jdbcType=VARCHAR},
      </if>
      <if test="horaLlamadaVoxiva != null">
        #{horaLlamadaVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="nombreReportaIncidencia != null">
        #{nombreReportaIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="direccionIncidencia != null">
        #{direccionIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="accionesIncidencia != null">
        #{accionesIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="nombreRecepcionaIncidencia != null">
        #{nombreRecepcionaIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="dniRecepcionaIncidencia != null">
        #{dniRecepcionaIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="nroCasoVoxiva != null">
        #{nroCasoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="telefReportaIncidencia != null">
        #{telefReportaIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="incidenciaPresentada != null">
        #{incidenciaPresentada,jdbcType=VARCHAR},
      </if>
      <if test="medioIngreso != null">
        #{medioIngreso,jdbcType=INTEGER},
      </if>
      <if test="estadoCalifVoxiva != null">
        #{estadoCalifVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="estadoVoxiva != null">
        #{estadoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="desEstadoVoxiva != null">
        #{desEstadoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="subEstadoVoxiva != null">
        #{subEstadoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="desSubEstadoVoxiva != null">
        #{desSubEstadoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="desEstadoCalifVoxiva != null">
        #{desEstadoCalifVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="unidIntervVoxiva != null">
        #{unidIntervVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="desUnidIntervVoxiva != null">
        #{desUnidIntervVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="importanteVoxiva != null">
        #{importanteVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="llamadaDevueltaVoxiva != null">
        #{llamadaDevueltaVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="fechaHoraAtencionVoxiva != null">
        #{fechaHoraAtencionVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="indLeido != null">
        #{indLeido,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <select id="countByExample" parameterType="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistroCriteria" resultType="java.lang.Integer">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 10 12:32:50 COT 2016.
    -->
    select count(*) from GEO_INCIDENCIA_MAP
    <if test="_parameter != null">
      <include refid="Example_Where_Clause" />
    </if>
  </select>
  <update id="updateByExampleSelective" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 10 12:32:50 COT 2016.
    -->
    update GEO_INCIDENCIA_MAP
    <set>
      <if test="record.idIncidencia != null">
        ID_INCIDENCIA = #{record.idIncidencia,jdbcType=INTEGER},
      </if>
      <if test="record.idEvento != null">
        ID_EVENTO = #{record.idEvento,jdbcType=INTEGER},
      </if>
      <if test="record.tipoEvento != null">
        TIPO_EVENTO = #{record.tipoEvento,jdbcType=INTEGER},
      </if>
      <if test="record.subTipo != null">
        SUB_TIPO = #{record.subTipo,jdbcType=INTEGER},
      </if>
      <if test="record.fecHoraInicio != null">
        FEC_HORA_INICIO = #{record.fecHoraInicio,jdbcType=TIMESTAMP},
      </if>
      <if test="record.fecHoraFin != null">
        FEC_HORA_FIN = #{record.fecHoraFin,jdbcType=TIMESTAMP},
      </if>
      <if test="record.descripcion != null">
        DESCRIPCION = #{record.descripcion,jdbcType=VARCHAR},
      </if>
      <if test="record.severidad != null">
        SEVERIDAD = #{record.severidad,jdbcType=VARCHAR},
      </if>
      <if test="record.calle != null">
        CALLE = #{record.calle,jdbcType=VARCHAR},
      </if>
      <if test="record.tipoDireccion != null">
        TIPO_DIRECCION = #{record.tipoDireccion,jdbcType=INTEGER},
      </if>
      <if test="record.direccionFinal != null">
        DIRECCION_FINAL = #{record.direccionFinal,jdbcType=VARCHAR},
      </if>
      <if test="record.nombreCalleInicio != null">
        NOMBRE_CALLE_INICIO = #{record.nombreCalleInicio,jdbcType=VARCHAR},
      </if>
      <if test="record.nombreCalleFin != null">
        NOMBRE_CALLE_FIN = #{record.nombreCalleFin,jdbcType=VARCHAR},
      </if>
      <if test="record.fecRegistra != null">
        FEC_REGISTRA = #{record.fecRegistra,jdbcType=TIMESTAMP},
      </if>
      <if test="record.fecModifica != null">
        FEC_MODIFICA = #{record.fecModifica,jdbcType=TIMESTAMP},
      </if>
      <if test="record.desUsuRegistra != null">
        DES_USU_REGISTRA = #{record.desUsuRegistra,jdbcType=VARCHAR},
      </if>
      <if test="record.desUsuModifica != null">
        DES_USU_MODIFICA = #{record.desUsuModifica,jdbcType=VARCHAR},
      </if>
      <if test="record.desIpRegistra != null">
        DES_IP_REGISTRA = #{record.desIpRegistra,jdbcType=VARCHAR},
      </if>
      <if test="record.desIpModifica != null">
        DES_IP_MODIFICA = #{record.desIpModifica,jdbcType=VARCHAR},
      </if>
      <if test="record.idTipoVia != null">
        ID_TIPO_VIA = #{record.idTipoVia,jdbcType=INTEGER},
      </if>
      <if test="record.cuadraEvento != null">
        CUADRA_EVENTO = #{record.cuadraEvento,jdbcType=INTEGER},
      </if>
      <if test="record.idVia != null">
        ID_VIA = #{record.idVia,jdbcType=INTEGER},
      </if>
      <if test="record.idCasoVoxiva != null">
        ID_CASO_VOXIVA = #{record.idCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="record.tipoCasoVoxiva != null">
        TIPO_CASO_VOXIVA = #{record.tipoCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="record.subTipoCasoVoxiva != null">
        SUB_TIPO_CASO_VOXIVA = #{record.subTipoCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="record.tipoIncidencia != null">
        TIPO_INCIDENCIA = #{record.tipoIncidencia,jdbcType=INTEGER},
      </if>
      <if test="record.idViaCatastro != null">
        ID_VIA_CATASTRO = #{record.idViaCatastro,jdbcType=INTEGER},
      </if>
      <if test="record.idTipoViaCatastro != null">
        ID_TIPO_VIA_CATASTRO = #{record.idTipoViaCatastro,jdbcType=INTEGER},
      </if>
      <if test="record.estado != null">
        ESTADO = #{record.estado,jdbcType=VARCHAR},
      </if>
      <if test="record.tipoCierre != null">
        TIPO_CIERRE = #{record.tipoCierre,jdbcType=VARCHAR},
      </if>
      <if test="record.desCallles != null">
        DES_CALLLES = #{record.desCallles,jdbcType=VARCHAR},
      </if>
      <if test="record.usuarioRegistro != null">
        USUARIO_REGISTRO = #{record.usuarioRegistro,jdbcType=INTEGER},
      </if>
      <if test="record.usuarioModifica != null">
        USUARIO_MODIFICA = #{record.usuarioModifica,jdbcType=INTEGER},
      </if>
      <if test="record.visible != null">
        VISIBLE = #{record.visible,jdbcType=VARCHAR},
      </if>
      <if test="record.idDispositivo != null">
        ID_DISPOSITIVO = #{record.idDispositivo,jdbcType=VARCHAR},
      </if>
      <if test="record.horaLlamadaVoxiva != null">
        HORA_LLAMADA_VOXIVA = #{record.horaLlamadaVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="record.nombreReportaIncidencia != null">
        NOMBRE_REPORTA_INCIDENCIA = #{record.nombreReportaIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="record.direccionIncidencia != null">
        DIRECCION_INCIDENCIA = #{record.direccionIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="record.accionesIncidencia != null">
        ACCIONES_INCIDENCIA = #{record.accionesIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="record.nombreRecepcionaIncidencia != null">
        NOMBRE_RECEPCIONA_INCIDENCIA = #{record.nombreRecepcionaIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="record.dniRecepcionaIncidencia != null">
        DNI_RECEPCIONA_INCIDENCIA = #{record.dniRecepcionaIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="record.nroCasoVoxiva != null">
        NRO_CASO_VOXIVA = #{record.nroCasoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="record.telefReportaIncidencia != null">
        TELEF_REPORTA_INCIDENCIA = #{record.telefReportaIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="record.incidenciaPresentada != null">
        INCIDENCIA_PRESENTADA = #{record.incidenciaPresentada,jdbcType=VARCHAR},
      </if>
      <if test="record.medioIngreso != null">
        MEDIO_INGRESO = #{record.medioIngreso,jdbcType=INTEGER},
      </if>
      <if test="record.estadoCalifVoxiva != null">
        ESTADO_CALIF_VOXIVA = #{record.estadoCalifVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="record.estadoVoxiva != null">
        ESTADO_VOXIVA = #{record.estadoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="record.desEstadoVoxiva != null">
        DES_ESTADO_VOXIVA = #{record.desEstadoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="record.subEstadoVoxiva != null">
        SUB_ESTADO_VOXIVA = #{record.subEstadoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="record.desSubEstadoVoxiva != null">
        DES_SUB_ESTADO_VOXIVA = #{record.desSubEstadoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="record.desEstadoCalifVoxiva != null">
        DES_ESTADO_CALIF_VOXIVA = #{record.desEstadoCalifVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="record.unidIntervVoxiva != null">
        UNID_INTERV_VOXIVA = #{record.unidIntervVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="record.desUnidIntervVoxiva != null">
        DES_UNID_INTERV_VOXIVA = #{record.desUnidIntervVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="record.importanteVoxiva != null">
        IMPORTANTE_VOXIVA = #{record.importanteVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="record.llamadaDevueltaVoxiva != null">
        LLAMADA_DEVUELTA_VOXIVA = #{record.llamadaDevueltaVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="record.fechaHoraAtencionVoxiva != null">
        FECHA_HORA_ATENCION_VOXIVA = #{record.fechaHoraAtencionVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="record.indLeido != null">
        IND_LEIDO = #{record.indLeido,jdbcType=VARCHAR},
      </if>
    </set>
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByExample" parameterType="map">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 10 12:32:50 COT 2016.
    -->
    update GEO_INCIDENCIA_MAP
    set ID_INCIDENCIA = #{record.idIncidencia,jdbcType=INTEGER},
      ID_EVENTO = #{record.idEvento,jdbcType=INTEGER},
      TIPO_EVENTO = #{record.tipoEvento,jdbcType=INTEGER},
      SUB_TIPO = #{record.subTipo,jdbcType=INTEGER},
      FEC_HORA_INICIO = #{record.fecHoraInicio,jdbcType=TIMESTAMP},
      FEC_HORA_FIN = #{record.fecHoraFin,jdbcType=TIMESTAMP},
      DESCRIPCION = #{record.descripcion,jdbcType=VARCHAR},
      SEVERIDAD = #{record.severidad,jdbcType=VARCHAR},
      CALLE = #{record.calle,jdbcType=VARCHAR},
      TIPO_DIRECCION = #{record.tipoDireccion,jdbcType=INTEGER},
      DIRECCION_FINAL = #{record.direccionFinal,jdbcType=VARCHAR},
      NOMBRE_CALLE_INICIO = #{record.nombreCalleInicio,jdbcType=VARCHAR},
      NOMBRE_CALLE_FIN = #{record.nombreCalleFin,jdbcType=VARCHAR},
      FEC_REGISTRA = #{record.fecRegistra,jdbcType=TIMESTAMP},
      FEC_MODIFICA = #{record.fecModifica,jdbcType=TIMESTAMP},
      DES_USU_REGISTRA = #{record.desUsuRegistra,jdbcType=VARCHAR},
      DES_USU_MODIFICA = #{record.desUsuModifica,jdbcType=VARCHAR},
      DES_IP_REGISTRA = #{record.desIpRegistra,jdbcType=VARCHAR},
      DES_IP_MODIFICA = #{record.desIpModifica,jdbcType=VARCHAR},
      ID_TIPO_VIA = #{record.idTipoVia,jdbcType=INTEGER},
      CUADRA_EVENTO = #{record.cuadraEvento,jdbcType=INTEGER},
      ID_VIA = #{record.idVia,jdbcType=INTEGER},
      ID_CASO_VOXIVA = #{record.idCasoVoxiva,jdbcType=INTEGER},
      TIPO_CASO_VOXIVA = #{record.tipoCasoVoxiva,jdbcType=INTEGER},
      SUB_TIPO_CASO_VOXIVA = #{record.subTipoCasoVoxiva,jdbcType=INTEGER},
      TIPO_INCIDENCIA = #{record.tipoIncidencia,jdbcType=INTEGER},
      ID_VIA_CATASTRO = #{record.idViaCatastro,jdbcType=INTEGER},
      ID_TIPO_VIA_CATASTRO = #{record.idTipoViaCatastro,jdbcType=INTEGER},
      ESTADO = #{record.estado,jdbcType=VARCHAR},
      TIPO_CIERRE = #{record.tipoCierre,jdbcType=VARCHAR},
      DES_CALLLES = #{record.desCallles,jdbcType=VARCHAR},
      USUARIO_REGISTRO = #{record.usuarioRegistro,jdbcType=INTEGER},
      USUARIO_MODIFICA = #{record.usuarioModifica,jdbcType=INTEGER},
      VISIBLE = #{record.visible,jdbcType=VARCHAR},
      ID_DISPOSITIVO = #{record.idDispositivo,jdbcType=VARCHAR},
      HORA_LLAMADA_VOXIVA = #{record.horaLlamadaVoxiva,jdbcType=VARCHAR},
      NOMBRE_REPORTA_INCIDENCIA = #{record.nombreReportaIncidencia,jdbcType=VARCHAR},
      DIRECCION_INCIDENCIA = #{record.direccionIncidencia,jdbcType=VARCHAR},
      ACCIONES_INCIDENCIA = #{record.accionesIncidencia,jdbcType=VARCHAR},
      NOMBRE_RECEPCIONA_INCIDENCIA = #{record.nombreRecepcionaIncidencia,jdbcType=VARCHAR},
      DNI_RECEPCIONA_INCIDENCIA = #{record.dniRecepcionaIncidencia,jdbcType=VARCHAR},
      NRO_CASO_VOXIVA = #{record.nroCasoVoxiva,jdbcType=VARCHAR},
      TELEF_REPORTA_INCIDENCIA = #{record.telefReportaIncidencia,jdbcType=VARCHAR},
      INCIDENCIA_PRESENTADA = #{record.incidenciaPresentada,jdbcType=VARCHAR},
      MEDIO_INGRESO = #{record.medioIngreso,jdbcType=INTEGER},
      ESTADO_CALIF_VOXIVA = #{record.estadoCalifVoxiva,jdbcType=VARCHAR},
      ESTADO_VOXIVA = #{record.estadoVoxiva,jdbcType=VARCHAR},
      DES_ESTADO_VOXIVA = #{record.desEstadoVoxiva,jdbcType=VARCHAR},
      SUB_ESTADO_VOXIVA = #{record.subEstadoVoxiva,jdbcType=VARCHAR},
      DES_SUB_ESTADO_VOXIVA = #{record.desSubEstadoVoxiva,jdbcType=VARCHAR},
      DES_ESTADO_CALIF_VOXIVA = #{record.desEstadoCalifVoxiva,jdbcType=VARCHAR},
      UNID_INTERV_VOXIVA = #{record.unidIntervVoxiva,jdbcType=VARCHAR},
      DES_UNID_INTERV_VOXIVA = #{record.desUnidIntervVoxiva,jdbcType=VARCHAR},
      IMPORTANTE_VOXIVA = #{record.importanteVoxiva,jdbcType=VARCHAR},
      LLAMADA_DEVUELTA_VOXIVA = #{record.llamadaDevueltaVoxiva,jdbcType=VARCHAR},
      FECHA_HORA_ATENCION_VOXIVA = #{record.fechaHoraAtencionVoxiva,jdbcType=VARCHAR},
      IND_LEIDO = #{record.indLeido,jdbcType=VARCHAR}
    <if test="_parameter != null">
      <include refid="Update_By_Example_Where_Clause" />
    </if>
  </update>
  <update id="updateByPrimaryKeySelective" parameterType="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistro">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 10 12:32:50 COT 2016.
    -->
    update GEO_INCIDENCIA_MAP
    <set>
      <if test="idEvento != null">
        ID_EVENTO = #{idEvento,jdbcType=INTEGER},
      </if>
      <if test="tipoEvento != null">
        TIPO_EVENTO = #{tipoEvento,jdbcType=INTEGER},
      </if>
      <if test="subTipo != null">
        SUB_TIPO = #{subTipo,jdbcType=INTEGER},
      </if>
      <if test="fecHoraInicio != null">
        FEC_HORA_INICIO = #{fecHoraInicio,jdbcType=TIMESTAMP},
      </if>
      <if test="fecHoraFin != null">
        FEC_HORA_FIN = #{fecHoraFin,jdbcType=TIMESTAMP},
      </if>
      <if test="descripcion != null">
        DESCRIPCION = #{descripcion,jdbcType=VARCHAR},
      </if>
      <if test="severidad != null">
        SEVERIDAD = #{severidad,jdbcType=VARCHAR},
      </if>
      <if test="calle != null">
        CALLE = #{calle,jdbcType=VARCHAR},
      </if>
      <if test="tipoDireccion != null">
        TIPO_DIRECCION = #{tipoDireccion,jdbcType=INTEGER},
      </if>
      <if test="direccionFinal != null">
        DIRECCION_FINAL = #{direccionFinal,jdbcType=VARCHAR},
      </if>
      <if test="nombreCalleInicio != null">
        NOMBRE_CALLE_INICIO = #{nombreCalleInicio,jdbcType=VARCHAR},
      </if>
      <if test="nombreCalleFin != null">
        NOMBRE_CALLE_FIN = #{nombreCalleFin,jdbcType=VARCHAR},
      </if>
      <if test="fecRegistra != null">
        FEC_REGISTRA = #{fecRegistra,jdbcType=TIMESTAMP},
      </if>
      <if test="fecModifica != null">
        FEC_MODIFICA = #{fecModifica,jdbcType=TIMESTAMP},
      </if>
      <if test="desUsuRegistra != null">
        DES_USU_REGISTRA = #{desUsuRegistra,jdbcType=VARCHAR},
      </if>
      <if test="desUsuModifica != null">
        DES_USU_MODIFICA = #{desUsuModifica,jdbcType=VARCHAR},
      </if>
      <if test="desIpRegistra != null">
        DES_IP_REGISTRA = #{desIpRegistra,jdbcType=VARCHAR},
      </if>
      <if test="desIpModifica != null">
        DES_IP_MODIFICA = #{desIpModifica,jdbcType=VARCHAR},
      </if>
      <if test="idTipoVia != null">
        ID_TIPO_VIA = #{idTipoVia,jdbcType=INTEGER},
      </if>
      <if test="cuadraEvento != null">
        CUADRA_EVENTO = #{cuadraEvento,jdbcType=INTEGER},
      </if>
      <if test="idVia != null">
        ID_VIA = #{idVia,jdbcType=INTEGER},
      </if>
      <if test="idCasoVoxiva != null">
        ID_CASO_VOXIVA = #{idCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="tipoCasoVoxiva != null">
        TIPO_CASO_VOXIVA = #{tipoCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="subTipoCasoVoxiva != null">
        SUB_TIPO_CASO_VOXIVA = #{subTipoCasoVoxiva,jdbcType=INTEGER},
      </if>
      <if test="tipoIncidencia != null">
        TIPO_INCIDENCIA = #{tipoIncidencia,jdbcType=INTEGER},
      </if>
      <if test="idViaCatastro != null">
        ID_VIA_CATASTRO = #{idViaCatastro,jdbcType=INTEGER},
      </if>
      <if test="idTipoViaCatastro != null">
        ID_TIPO_VIA_CATASTRO = #{idTipoViaCatastro,jdbcType=INTEGER},
      </if>
      <if test="estado != null">
        ESTADO = #{estado,jdbcType=VARCHAR},
      </if>
      <if test="tipoCierre != null">
        TIPO_CIERRE = #{tipoCierre,jdbcType=VARCHAR},
      </if>
      <if test="desCallles != null">
        DES_CALLLES = #{desCallles,jdbcType=VARCHAR},
      </if>
      <if test="usuarioRegistro != null">
        USUARIO_REGISTRO = #{usuarioRegistro,jdbcType=INTEGER},
      </if>
      <if test="usuarioModifica != null">
        USUARIO_MODIFICA = #{usuarioModifica,jdbcType=INTEGER},
      </if>
      <if test="visible != null">
        VISIBLE = #{visible,jdbcType=VARCHAR},
      </if>
      <if test="idDispositivo != null">
        ID_DISPOSITIVO = #{idDispositivo,jdbcType=VARCHAR},
      </if>
      <if test="horaLlamadaVoxiva != null">
        HORA_LLAMADA_VOXIVA = #{horaLlamadaVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="nombreReportaIncidencia != null">
        NOMBRE_REPORTA_INCIDENCIA = #{nombreReportaIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="direccionIncidencia != null">
        DIRECCION_INCIDENCIA = #{direccionIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="accionesIncidencia != null">
        ACCIONES_INCIDENCIA = #{accionesIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="nombreRecepcionaIncidencia != null">
        NOMBRE_RECEPCIONA_INCIDENCIA = #{nombreRecepcionaIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="dniRecepcionaIncidencia != null">
        DNI_RECEPCIONA_INCIDENCIA = #{dniRecepcionaIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="nroCasoVoxiva != null">
        NRO_CASO_VOXIVA = #{nroCasoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="telefReportaIncidencia != null">
        TELEF_REPORTA_INCIDENCIA = #{telefReportaIncidencia,jdbcType=VARCHAR},
      </if>
      <if test="incidenciaPresentada != null">
        INCIDENCIA_PRESENTADA = #{incidenciaPresentada,jdbcType=VARCHAR},
      </if>
      <if test="medioIngreso != null">
        MEDIO_INGRESO = #{medioIngreso,jdbcType=INTEGER},
      </if>
      <if test="estadoCalifVoxiva != null">
        ESTADO_CALIF_VOXIVA = #{estadoCalifVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="estadoVoxiva != null">
        ESTADO_VOXIVA = #{estadoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="desEstadoVoxiva != null">
        DES_ESTADO_VOXIVA = #{desEstadoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="subEstadoVoxiva != null">
        SUB_ESTADO_VOXIVA = #{subEstadoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="desSubEstadoVoxiva != null">
        DES_SUB_ESTADO_VOXIVA = #{desSubEstadoVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="desEstadoCalifVoxiva != null">
        DES_ESTADO_CALIF_VOXIVA = #{desEstadoCalifVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="unidIntervVoxiva != null">
        UNID_INTERV_VOXIVA = #{unidIntervVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="desUnidIntervVoxiva != null">
        DES_UNID_INTERV_VOXIVA = #{desUnidIntervVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="importanteVoxiva != null">
        IMPORTANTE_VOXIVA = #{importanteVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="llamadaDevueltaVoxiva != null">
        LLAMADA_DEVUELTA_VOXIVA = #{llamadaDevueltaVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="fechaHoraAtencionVoxiva != null">
        FECHA_HORA_ATENCION_VOXIVA = #{fechaHoraAtencionVoxiva,jdbcType=VARCHAR},
      </if>
      <if test="indLeido != null">
        IND_LEIDO = #{indLeido,jdbcType=VARCHAR},
      </if>
    </set>
    where ID_INCIDENCIA = #{idIncidencia,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistro">
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      This element was generated on Wed Aug 10 12:32:50 COT 2016.
    -->
    update GEO_INCIDENCIA_MAP
    set ID_EVENTO = #{idEvento,jdbcType=INTEGER},
      TIPO_EVENTO = #{tipoEvento,jdbcType=INTEGER},
      SUB_TIPO = #{subTipo,jdbcType=INTEGER},
      FEC_HORA_INICIO = #{fecHoraInicio,jdbcType=TIMESTAMP},
      FEC_HORA_FIN = #{fecHoraFin,jdbcType=TIMESTAMP},
      DESCRIPCION = #{descripcion,jdbcType=VARCHAR},
      SEVERIDAD = #{severidad,jdbcType=VARCHAR},
      CALLE = #{calle,jdbcType=VARCHAR},
      TIPO_DIRECCION = #{tipoDireccion,jdbcType=INTEGER},
      DIRECCION_FINAL = #{direccionFinal,jdbcType=VARCHAR},
      NOMBRE_CALLE_INICIO = #{nombreCalleInicio,jdbcType=VARCHAR},
      NOMBRE_CALLE_FIN = #{nombreCalleFin,jdbcType=VARCHAR},
      FEC_REGISTRA = #{fecRegistra,jdbcType=TIMESTAMP},
      FEC_MODIFICA = #{fecModifica,jdbcType=TIMESTAMP},
      DES_USU_REGISTRA = #{desUsuRegistra,jdbcType=VARCHAR},
      DES_USU_MODIFICA = #{desUsuModifica,jdbcType=VARCHAR},
      DES_IP_REGISTRA = #{desIpRegistra,jdbcType=VARCHAR},
      DES_IP_MODIFICA = #{desIpModifica,jdbcType=VARCHAR},
      ID_TIPO_VIA = #{idTipoVia,jdbcType=INTEGER},
      CUADRA_EVENTO = #{cuadraEvento,jdbcType=INTEGER},
      ID_VIA = #{idVia,jdbcType=INTEGER},
      ID_CASO_VOXIVA = #{idCasoVoxiva,jdbcType=INTEGER},
      TIPO_CASO_VOXIVA = #{tipoCasoVoxiva,jdbcType=INTEGER},
      SUB_TIPO_CASO_VOXIVA = #{subTipoCasoVoxiva,jdbcType=INTEGER},
      TIPO_INCIDENCIA = #{tipoIncidencia,jdbcType=INTEGER},
      ID_VIA_CATASTRO = #{idViaCatastro,jdbcType=INTEGER},
      ID_TIPO_VIA_CATASTRO = #{idTipoViaCatastro,jdbcType=INTEGER},
      ESTADO = #{estado,jdbcType=VARCHAR},
      TIPO_CIERRE = #{tipoCierre,jdbcType=VARCHAR},
      DES_CALLLES = #{desCallles,jdbcType=VARCHAR},
      USUARIO_REGISTRO = #{usuarioRegistro,jdbcType=INTEGER},
      USUARIO_MODIFICA = #{usuarioModifica,jdbcType=INTEGER},
      VISIBLE = #{visible,jdbcType=VARCHAR},
      ID_DISPOSITIVO = #{idDispositivo,jdbcType=VARCHAR},
      HORA_LLAMADA_VOXIVA = #{horaLlamadaVoxiva,jdbcType=VARCHAR},
      NOMBRE_REPORTA_INCIDENCIA = #{nombreReportaIncidencia,jdbcType=VARCHAR},
      DIRECCION_INCIDENCIA = #{direccionIncidencia,jdbcType=VARCHAR},
      ACCIONES_INCIDENCIA = #{accionesIncidencia,jdbcType=VARCHAR},
      NOMBRE_RECEPCIONA_INCIDENCIA = #{nombreRecepcionaIncidencia,jdbcType=VARCHAR},
      DNI_RECEPCIONA_INCIDENCIA = #{dniRecepcionaIncidencia,jdbcType=VARCHAR},
      NRO_CASO_VOXIVA = #{nroCasoVoxiva,jdbcType=VARCHAR},
      TELEF_REPORTA_INCIDENCIA = #{telefReportaIncidencia,jdbcType=VARCHAR},
      INCIDENCIA_PRESENTADA = #{incidenciaPresentada,jdbcType=VARCHAR},
      MEDIO_INGRESO = #{medioIngreso,jdbcType=INTEGER},
      ESTADO_CALIF_VOXIVA = #{estadoCalifVoxiva,jdbcType=VARCHAR},
      ESTADO_VOXIVA = #{estadoVoxiva,jdbcType=VARCHAR},
      DES_ESTADO_VOXIVA = #{desEstadoVoxiva,jdbcType=VARCHAR},
      SUB_ESTADO_VOXIVA = #{subEstadoVoxiva,jdbcType=VARCHAR},
      DES_SUB_ESTADO_VOXIVA = #{desSubEstadoVoxiva,jdbcType=VARCHAR},
      DES_ESTADO_CALIF_VOXIVA = #{desEstadoCalifVoxiva,jdbcType=VARCHAR},
      UNID_INTERV_VOXIVA = #{unidIntervVoxiva,jdbcType=VARCHAR},
      DES_UNID_INTERV_VOXIVA = #{desUnidIntervVoxiva,jdbcType=VARCHAR},
      IMPORTANTE_VOXIVA = #{importanteVoxiva,jdbcType=VARCHAR},
      LLAMADA_DEVUELTA_VOXIVA = #{llamadaDevueltaVoxiva,jdbcType=VARCHAR},
      FECHA_HORA_ATENCION_VOXIVA = #{fechaHoraAtencionVoxiva,jdbcType=VARCHAR},
      IND_LEIDO = #{indLeido,jdbcType=VARCHAR}
    where ID_INCIDENCIA = #{idIncidencia,jdbcType=INTEGER}
  </update>

  
       
  
    <resultMap id="BaseResultMap_Paginado" type="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistro">

    <id column="ID_INCIDENCIA" jdbcType="INTEGER" property="idIncidencia" />
    <result column="ID_EVENTO" jdbcType="INTEGER" property="idEvento" />
    <result column="TIPO_EVENTO" jdbcType="INTEGER" property="tipoEvento" />
    <result column="SUB_TIPO" jdbcType="INTEGER" property="subTipo" />
    <result column="FEC_HORA_INICIO" jdbcType="TIMESTAMP" property="fecHoraInicio" />
    <result column="FEC_HORA_FIN" jdbcType="TIMESTAMP" property="fecHoraFin" />
    <result column="DESCRIPCION" jdbcType="VARCHAR" property="descripcion" />
    <result column="SEVERIDAD" jdbcType="VARCHAR" property="severidad" />
    <result column="CALLE" jdbcType="VARCHAR" property="calle" />
    <result column="TIPO_DIRECCION" jdbcType="INTEGER" property="tipoDireccion" />
    <result column="DIRECCION_FINAL" jdbcType="VARCHAR" property="direccionFinal" />
    <result column="NOMBRE_CALLE_INICIO" jdbcType="VARCHAR" property="nombreCalleInicio" />
    <result column="NOMBRE_CALLE_FIN" jdbcType="VARCHAR" property="nombreCalleFin" />
    <result column="FEC_REGISTRA" jdbcType="TIMESTAMP" property="fecRegistra" />
    <result column="FEC_MODIFICA" jdbcType="TIMESTAMP" property="fecModifica" />
    <result column="DES_USU_REGISTRA" jdbcType="VARCHAR" property="desUsuRegistra" />
    <result column="DES_USU_MODIFICA" jdbcType="VARCHAR" property="desUsuModifica" />
    <result column="DES_IP_REGISTRA" jdbcType="VARCHAR" property="desIpRegistra" />
    <result column="DES_IP_MODIFICA" jdbcType="VARCHAR" property="desIpModifica" />
    <result column="ID_TIPO_VIA" jdbcType="INTEGER" property="idTipoVia" />
    <result column="CUADRA_EVENTO" jdbcType="INTEGER" property="cuadraEvento" />
    <result column="ID_VIA" jdbcType="INTEGER" property="idVia" />
    <result column="ID_CASO_VOXIVA" jdbcType="INTEGER" property="idCasoVoxiva" />
    <result column="TIPO_CASO_VOXIVA" jdbcType="INTEGER" property="tipoCasoVoxiva" />
    <result column="SUB_TIPO_CASO_VOXIVA" jdbcType="INTEGER" property="subTipoCasoVoxiva" />
    <result column="TIPO_INCIDENCIA" jdbcType="INTEGER" property="tipoIncidencia" />
    <result column="ID_VIA_CATASTRO" jdbcType="INTEGER" property="idViaCatastro" />
    <result column="ID_TIPO_VIA_CATASTRO" jdbcType="INTEGER" property="idTipoViaCatastro" />
    <result column="NOMBRE_TIPO_EVENTO" jdbcType="VARCHAR" property="nombreTipoEvento" />
    <result column="DES_TIPO_INCIDENCIA" jdbcType="VARCHAR" property="desTipoIncidencia" />
    <result column="ESTADO" jdbcType="VARCHAR" property="estado" />
    <result column="TIPO_CIERRE" jdbcType="VARCHAR" property="tipoCierre" />
    <result column="DES_CALLLES" jdbcType="VARCHAR" property="desCallles" />
    <result column="MEDIO_INGRESO" jdbcType="INTEGER" property="medioIngreso" />
  </resultMap>
  
  	<select id="listarIncidenciasConPaginacion" parameterType="HashMap" resultMap="BaseResultMap_Paginado">
	
	  SELECT * FROM (
	  
					SELECT  
						A.ID_INCIDENCIA, 
						A.ID_EVENTO, 
						A.TIPO_EVENTO, 
						A.SUB_TIPO, 
						A.FEC_HORA_INICIO, 
						A.FEC_HORA_FIN, 
						A.DESCRIPCION, 
					    A.SEVERIDAD, 
					    A.CALLE, 
					    A.TIPO_DIRECCION, 
					    A.DIRECCION_FINAL, 
					    A.NOMBRE_CALLE_INICIO, 
					    A.NOMBRE_CALLE_FIN, 
				    	A.FEC_REGISTRA, 
				    	A.FEC_MODIFICA, 
				    	A.ESTADO, 
				    	A.DES_USU_REGISTRA, 
				    	A.DES_USU_MODIFICA, 
				    	A.DES_IP_REGISTRA, 
				    	A.DES_IP_MODIFICA, 
				    	A.ID_TIPO_VIA, 
				    	A.CUADRA_EVENTO, 
				    	A.ID_VIA, 
				    	A.ID_CASO_VOXIVA, 
				    	A.TIPO_CASO_VOXIVA, 
				    	A.SUB_TIPO_CASO_VOXIVA, 
				    	A.TIPO_INCIDENCIA, 
				    	A.ID_VIA_CATASTRO, 
				    	A.ID_TIPO_VIA_CATASTRO,
				    	A.TIPO_CIERRE,
				    	A.DES_CALLLES,
				    	A.MEDIO_INGRESO,
				    	B.DES_NOMBRE AS NOMBRE_TIPO_EVENTO,
				    	C.DES_NOMBRE AS DES_TIPO_INCIDENCIA
					     ,ROWNUMBER()  OVER   (ORDER BY A.FEC_REGISTRA DESC)  AS ROW_NEXT
				    FROM 
				    		GEO_INCIDENCIA_MAP A LEFT JOIN CTLMELECGO B ON A.TIPO_EVENTO = B.IDE_ELEMENTO
				    		INNER JOIN CTLMELECGO C ON A.TIPO_INCIDENCIA = C.IDE_ELEMENTO
				    WHERE
				         ESTADO='A'
				         
				        <if test="TIPO_INCIDENCIA != null">
					       AND A.TIPO_INCIDENCIA = #{TIPO_INCIDENCIA}
					    </if> 
				         
				        <if test="NOMBRE_TIPO_EVENTO != null">
					        AND UPPER(B.DES_NOMBRE) LIKE UPPER('%${NOMBRE_TIPO_EVENTO}%')
					    </if> 
					    
					    <if test="DES_CALLLES != null">
					        AND UPPER(A.DES_CALLLES) LIKE UPPER('%${DES_CALLLES}%')
					    </if> 
					    
					    <if test="DESCRIPCION != null">
					        AND UPPER(A.DESCRIPCION) LIKE UPPER('%${DESCRIPCION}%')
					    </if> 
				        
				        <if test="FECHA_INI != null">
				         	AND CAST(A.FEC_HORA_INICIO AS DATE) <![CDATA[ >= ]]>  '${FECHA_INI}'	
						</if> 
						
						<if test="FECHA_FIN != null">
				         	AND CAST(A.FEC_HORA_FIN AS DATE) <![CDATA[ <= ]]> '${FECHA_FIN}'	
						</if> 
	
						
		)AS TEMP WHERE  ROW_NEXT BETWEEN #{START} and #{LIMIT}  
  
	</select>
	
	<select id="countListarIncidenciasConPaginacion" parameterType="HashMap" resultType="java.lang.Integer">

    	SELECT 
    			COUNT(*)
		 FROM 
				    		GEO_INCIDENCIA_MAP A LEFT JOIN CTLMELECGO B ON A.TIPO_EVENTO = B.IDE_ELEMENTO
				    		INNER JOIN CTLMELECGO C ON A.TIPO_INCIDENCIA = C.IDE_ELEMENTO
				    WHERE
				         ESTADO='A'
				         
				        <if test="TIPO_INCIDENCIA != null">
					       AND A.TIPO_INCIDENCIA = #{TIPO_INCIDENCIA}
					    </if> 
				         
				        <if test="NOMBRE_TIPO_EVENTO != null">
					        AND UPPER(B.DES_NOMBRE) LIKE UPPER('%${NOMBRE_TIPO_EVENTO}%')
					    </if> 
					    
					    <if test="DES_CALLLES != null">
					        AND UPPER(A.DES_CALLLES) LIKE UPPER('%${DES_CALLLES}%')
					    </if> 
					    
					    <if test="DESCRIPCION != null">
					        AND UPPER(A.DESCRIPCION) LIKE UPPER('%${DESCRIPCION}%')
					    </if> 
				        
				        <if test="FECHA_INI != null">
				         	AND CAST(A.FEC_HORA_INICIO AS DATE) <![CDATA[ >= ]]>  '${FECHA_INI}'	
						</if> 
						
						<if test="FECHA_FIN != null">
				         	AND CAST(A.FEC_HORA_FIN AS DATE) <![CDATA[ <= ]]> '${FECHA_FIN}'	
						</if> 

		
	</select>
  
    <select id="cierreCallesPorVencer" parameterType="HashMap" resultMap="BaseResultMap">
  
 	 select A.* from GEO_INCIDENCIA_MAP A
	 where CAST('${FECHA_FIN}' AS DATE) BETWEEN CAST(A.FEC_HORA_INICIO AS DATE) AND CAST(A.FEC_HORA_FIN AS DATE)
	
  </select>
  
   <select id="cierreCallesPorIniciar" parameterType="HashMap" resultMap="BaseResultMap">
  
 	 select A.* from GEO_INCIDENCIA_MAP A
	 where CAST(A.FEC_HORA_INICIO AS DATE) <![CDATA[ >= ]]> '${FECHA_INI}'
	
  </select>
  
   
   
   <!-- Incidencia Generic -->
   
   
   <resultMap id="BaseResultMap_PaginadoGeneric" type="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistro">

    <id column="ID_INCIDENCIA" jdbcType="INTEGER" property="idIncidencia" />
    <result column="ID_EVENTO" jdbcType="INTEGER" property="idEvento" />
    <result column="TIPO_EVENTO" jdbcType="INTEGER" property="tipoEvento" />
    <result column="SUB_TIPO" jdbcType="INTEGER" property="subTipo" />
    <result column="FEC_HORA_INICIO" jdbcType="TIMESTAMP" property="fecHoraInicio" />
    <result column="FEC_HORA_FIN" jdbcType="TIMESTAMP" property="fecHoraFin" />
    <result column="DESCRIPCION" jdbcType="VARCHAR" property="descripcion" />
    <result column="SEVERIDAD" jdbcType="VARCHAR" property="severidad" />
    <result column="CALLE" jdbcType="VARCHAR" property="calle" />
    <result column="TIPO_DIRECCION" jdbcType="INTEGER" property="tipoDireccion" />
    <result column="DIRECCION_FINAL" jdbcType="VARCHAR" property="direccionFinal" />
    <result column="NOMBRE_CALLE_INICIO" jdbcType="VARCHAR" property="nombreCalleInicio" />
    <result column="NOMBRE_CALLE_FIN" jdbcType="VARCHAR" property="nombreCalleFin" />
    <result column="FEC_REGISTRA" jdbcType="TIMESTAMP" property="fecRegistra" />
    <result column="FEC_MODIFICA" jdbcType="TIMESTAMP" property="fecModifica" />
    <result column="DES_USU_REGISTRA" jdbcType="VARCHAR" property="desUsuRegistra" />
    <result column="DES_USU_MODIFICA" jdbcType="VARCHAR" property="desUsuModifica" />
    <result column="DES_IP_REGISTRA" jdbcType="VARCHAR" property="desIpRegistra" />
    <result column="DES_IP_MODIFICA" jdbcType="VARCHAR" property="desIpModifica" />
    <result column="ID_TIPO_VIA" jdbcType="INTEGER" property="idTipoVia" />
    <result column="CUADRA_EVENTO" jdbcType="INTEGER" property="cuadraEvento" />
    <result column="ID_VIA" jdbcType="INTEGER" property="idVia" />
    <result column="ID_CASO_VOXIVA" jdbcType="INTEGER" property="idCasoVoxiva" />
    <result column="TIPO_CASO_VOXIVA" jdbcType="INTEGER" property="tipoCasoVoxiva" />
    <result column="SUB_TIPO_CASO_VOXIVA" jdbcType="INTEGER" property="subTipoCasoVoxiva" />
    <result column="TIPO_INCIDENCIA" jdbcType="INTEGER" property="tipoIncidencia" />
    <result column="ID_VIA_CATASTRO" jdbcType="INTEGER" property="idViaCatastro" />
    <result column="ID_TIPO_VIA_CATASTRO" jdbcType="INTEGER" property="idTipoViaCatastro" />
    <result column="NOMBRE_TIPO_EVENTO" jdbcType="VARCHAR" property="nombreTipoEvento" />
    <result column="DES_TIPO_INCIDENCIA" jdbcType="VARCHAR" property="desTipoIncidencia" />
    <result column="ESTADO" jdbcType="VARCHAR" property="estado" />
    <result column="TIPO_CIERRE" jdbcType="VARCHAR" property="tipoCierre" />
    <result column="ACCIONES_INCIDENCIA" jdbcType="VARCHAR" property="accionesIncidencia" />
    <result column="DES_CALLLES" jdbcType="VARCHAR" property="desCallles" />
    <result column="MEDIO_INGRESO" jdbcType="INTEGER" property="medioIngreso" />
    
    <result column="DES_MEDIO_INGRESO" jdbcType="VARCHAR" property="desMedioIngreso" />
    <result column="DES_ESTADO_VOXIVA" jdbcType="VARCHAR" property="desEstadoVoxiva" />
    <result column="DES_SUB_ESTADO_VOXIVA" jdbcType="VARCHAR" property="desSubEstadoVoxiva" />
    <result column="DES_ESTADO_CALIF_VOXIVA" jdbcType="VARCHAR" property="desEstadoCalifVoxiva" />
    <result column="IMPORTANTE_VOXIVA" jdbcType="VARCHAR" property="importanteVoxiva" />
    <result column="LLAMADA_DEVUELTA_VOXIVA" jdbcType="VARCHAR" property="llamadaDevueltaVoxiva" />
    <result column="DIRECCION_INCIDENCIA" jdbcType="VARCHAR" property="direccionIncidencia" />
    <result column="HORA_LLAMADA_VOXIVA" jdbcType="VARCHAR" property="horaLlamadaVoxiva" />
     <result column="INCIDENCIA_PRESENTADA" jdbcType="VARCHAR" property="incidenciaPresentada" />
    
  </resultMap>
   
   	<select id="listarIncidenciasGenericConPaginacion" parameterType="HashMap" resultMap="BaseResultMap_PaginadoGeneric">
	
	  SELECT * FROM (
	  
					SELECT  
						A.ID_INCIDENCIA, 
						A.ID_EVENTO, 
						A.TIPO_EVENTO, 
						A.SUB_TIPO, 
						A.FEC_HORA_INICIO, 
						A.FEC_HORA_FIN, 
						A.DESCRIPCION, 
					    A.SEVERIDAD, 
					    A.CALLE, 
					    A.TIPO_DIRECCION, 
					    A.DIRECCION_FINAL,
					    A.ACCIONES_INCIDENCIA,  
					    A.NOMBRE_CALLE_INICIO, 
					    A.NOMBRE_CALLE_FIN, 
				    	A.FEC_REGISTRA, 
				    	A.FEC_MODIFICA, 
				    	A.ESTADO, 
				    	A.DES_USU_REGISTRA, 
				    	A.DES_USU_MODIFICA, 
				    	A.DES_IP_REGISTRA, 
				    	A.DES_IP_MODIFICA, 
				    	A.ID_TIPO_VIA, 
				    	A.CUADRA_EVENTO, 
				    	A.ID_VIA, 
				    	A.ID_CASO_VOXIVA, 
				    	A.TIPO_CASO_VOXIVA, 
				    	A.SUB_TIPO_CASO_VOXIVA, 
				    	A.TIPO_INCIDENCIA, 
				    	A.ID_VIA_CATASTRO, 
				    	A.ID_TIPO_VIA_CATASTRO,
				    	A.TIPO_CIERRE,
				    	A.DES_CALLLES,
				    	A.MEDIO_INGRESO,
				    	B.DES_NOMBRE AS NOMBRE_TIPO_EVENTO,
				    	C.DES_NOMBRE AS DES_TIPO_INCIDENCIA,
				    	
				    	A.INCIDENCIA_PRESENTADA,
				    	A.HORA_LLAMADA_VOXIVA,
				    	D.DES_NOMBRE AS DES_MEDIO_INGRESO,
				    	A.DES_ESTADO_VOXIVA,
				    	A.DES_SUB_ESTADO_VOXIVA, 
				    	(CASE WHEN A.DES_ESTADO_CALIF_VOXIVA IS NULL THEN 'CREADO' ELSE A.DES_ESTADO_CALIF_VOXIVA END) AS DES_ESTADO_CALIF_VOXIVA,
				    	A.IMPORTANTE_VOXIVA,
				    	A.LLAMADA_DEVUELTA_VOXIVA,
				    	A.DIRECCION_INCIDENCIA
				    	
					     ,ROWNUMBER()  OVER   (ORDER BY A.FEC_REGISTRA DESC)  AS ROW_NEXT
				    FROM 
				    		GEO_INCIDENCIA_MAP A LEFT JOIN CTLMELECGO B ON A.TIPO_EVENTO = B.IDE_ELEMENTO
				    		INNER JOIN CTLMELECGO C ON A.TIPO_INCIDENCIA = C.IDE_ELEMENTO

				    		LEFT JOIN CTLMELECGO D ON A.MEDIO_INGRESO = D.IDE_ELEMENTO
				    WHERE
				         1=1 AND A.ESTADO='A'
				         
				       <if test="LIST_TIPO != null">
				       		AND A.TIPO_INCIDENCIA IN
					       <foreach close=")" collection="LIST_TIPO" index="index" item="item" open="(" separator=",">
							        #{item}
							  </foreach>
					    </if> 
				         
				        <if test="LIST_ESTADO_CALIFICA != null">
					        AND  (CASE WHEN A.ESTADO_CALIF_VOXIVA IS NULL THEN 0 ELSE A.ESTADO_CALIF_VOXIVA END) IN
					       <foreach close=")" collection="LIST_ESTADO_CALIFICA" index="index" item="item" open="(" separator=",">
							        #{item}
							  </foreach>
					    </if>  
					    
					    <if test="LIST_MEDIOS != null">
					        AND  A.MEDIO_INGRESO IN
					       <foreach close=")" collection="LIST_MEDIOS" index="index" item="item" open="(" separator=",">
							        #{item}
							  </foreach>
					    </if>  
					    
					    <if test="INCIDENCIA_PRESENTADA != null">
					        AND UPPER(A.INCIDENCIA_PRESENTADA) LIKE UPPER('%${INCIDENCIA_PRESENTADA}%')
					    </if> 
					    
					     <if test="HORA_LLAMADA_VOXIVA != null">
					        AND UPPER(A.HORA_LLAMADA_VOXIVA) LIKE UPPER('%${HORA_LLAMADA_VOXIVA}%')
					    </if> 
				         						
		)AS TEMP WHERE  ROW_NEXT BETWEEN #{START} and #{LIMIT}  
  
	</select>
	
	<select id="countListarIncidenciasGenericConPaginacion" parameterType="HashMap" resultType="java.lang.Integer">

    	SELECT 
    			COUNT(*)
		 FROM 
				    		GEO_INCIDENCIA_MAP A LEFT JOIN CTLMELECGO B ON A.TIPO_EVENTO = B.IDE_ELEMENTO
				    		INNER JOIN CTLMELECGO C ON A.TIPO_INCIDENCIA = C.IDE_ELEMENTO

				    		LEFT JOIN CTLMELECGO D ON A.MEDIO_INGRESO = D.IDE_ELEMENTO
				    WHERE
				          1=1 AND A.ESTADO='A'
				         
				        <if test="LIST_TIPO != null">
				       	
				       		AND A.TIPO_INCIDENCIA IN
				       	
					       <foreach close=")" collection="LIST_TIPO" index="index" item="item" open="(" separator=",">
							        #{item}
							  </foreach>
					    </if> 
				         
						 <if test="LIST_ESTADO_CALIFICA != null">
					        AND  (CASE WHEN A.ESTADO_CALIF_VOXIVA IS NULL THEN 0 ELSE A.ESTADO_CALIF_VOXIVA END) IN
					       <foreach close=")" collection="LIST_ESTADO_CALIFICA" index="index" item="item" open="(" separator=",">
							        #{item}
							  </foreach>
					    </if>  
					    
					     <if test="LIST_MEDIOS != null">
					        AND  A.MEDIO_INGRESO IN
					       <foreach close=")" collection="LIST_MEDIOS" index="index" item="item" open="(" separator=",">
							        #{item}
							  </foreach>
					    </if>  
					    
					    <if test="INCIDENCIA_PRESENTADA != null">
					        AND UPPER(A.INCIDENCIA_PRESENTADA) LIKE UPPER('%${INCIDENCIA_PRESENTADA}%')
					    </if> 
					    
					    <if test="HORA_LLAMADA_VOXIVA != null">
					        AND UPPER(A.HORA_LLAMADA_VOXIVA) LIKE UPPER('${HORA_LLAMADA_VOXIVA}%')
					    </if> 
		
	</select>
   
   
   	<select id="listarIncidenciasWazeService" parameterType="HashMap" resultMap="BaseResultMap">
	   select * from  GEO_INCIDENCIA_MAP where ESTADO = 'A' and TIPO_INCIDENCIA=8766  and visible='S' and (SELECT CURRENT TIMESTAMP FROM SYSIBM.SYSDUMMY1) BETWEEN FEC_HORA_INICIO and  FEC_HORA_FIN
	</select>
	
	
	<!-- Waze Service -->
	
	<resultMap id="incidenciaMap" type="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistro">

         <id column="ID_INCIDENCIA" jdbcType="INTEGER" property="idIncidencia" />
    <result column="ID_EVENTO" jdbcType="INTEGER" property="idEvento" />
    <result column="TIPO_EVENTO" jdbcType="INTEGER" property="tipoEvento" />
    <result column="SUB_TIPO" jdbcType="INTEGER" property="subTipo" />
    <result column="FEC_HORA_INICIO" jdbcType="TIMESTAMP" property="fecHoraInicio" />
    <result column="FEC_HORA_FIN" jdbcType="TIMESTAMP" property="fecHoraFin" />
    <result column="DESCRIPCION" jdbcType="VARCHAR" property="descripcion" />
    <result column="SEVERIDAD" jdbcType="VARCHAR" property="severidad" />
    <result column="CALLE" jdbcType="VARCHAR" property="calle" />
    <result column="TIPO_DIRECCION" jdbcType="INTEGER" property="tipoDireccion" />
    <result column="DIRECCION_FINAL" jdbcType="VARCHAR" property="direccionFinal" />
    <result column="NOMBRE_CALLE_INICIO" jdbcType="VARCHAR" property="nombreCalleInicio" />
    <result column="NOMBRE_CALLE_FIN" jdbcType="VARCHAR" property="nombreCalleFin" />
    <result column="FEC_REGISTRA" jdbcType="TIMESTAMP" property="fecRegistra" />
    <result column="FEC_MODIFICA" jdbcType="TIMESTAMP" property="fecModifica" />
    <result column="DES_USU_REGISTRA" jdbcType="VARCHAR" property="desUsuRegistra" />
    <result column="DES_USU_MODIFICA" jdbcType="VARCHAR" property="desUsuModifica" />
    <result column="DES_IP_REGISTRA" jdbcType="VARCHAR" property="desIpRegistra" />
    <result column="DES_IP_MODIFICA" jdbcType="VARCHAR" property="desIpModifica" />
    <result column="ID_TIPO_VIA" jdbcType="INTEGER" property="idTipoVia" />
    <result column="CUADRA_EVENTO" jdbcType="INTEGER" property="cuadraEvento" />
    <result column="ID_VIA" jdbcType="INTEGER" property="idVia" />
    <result column="ID_CASO_VOXIVA" jdbcType="INTEGER" property="idCasoVoxiva" />
    <result column="TIPO_CASO_VOXIVA" jdbcType="INTEGER" property="tipoCasoVoxiva" />
    <result column="SUB_TIPO_CASO_VOXIVA" jdbcType="INTEGER" property="subTipoCasoVoxiva" />
    <result column="TIPO_INCIDENCIA" jdbcType="INTEGER" property="tipoIncidencia" />
    <result column="ID_VIA_CATASTRO" jdbcType="INTEGER" property="idViaCatastro" />
    <result column="ID_TIPO_VIA_CATASTRO" jdbcType="INTEGER" property="idTipoViaCatastro" />
    <result column="ESTADO" jdbcType="VARCHAR" property="estado" />
    <result column="TIPO_CIERRE" jdbcType="VARCHAR" property="tipoCierre" />
    <result column="DES_CALLLES" jdbcType="VARCHAR" property="desCallles" />
    <result column="USUARIO_REGISTRO" jdbcType="INTEGER" property="usuarioRegistro" />
    <result column="USUARIO_MODIFICA" jdbcType="INTEGER" property="usuarioModifica" />
    <result column="VISIBLE" jdbcType="VARCHAR" property="visible" />
    <result column="ID_DISPOSITIVO" jdbcType="VARCHAR" property="idDispositivo" />
    <result column="HORA_LLAMADA_VOXIVA" jdbcType="VARCHAR" property="horaLlamadaVoxiva" />
    <result column="NOMBRE_REPORTA_INCIDENCIA" jdbcType="VARCHAR" property="nombreReportaIncidencia" />
    <result column="DIRECCION_INCIDENCIA" jdbcType="VARCHAR" property="direccionIncidencia" />
    <result column="ACCIONES_INCIDENCIA" jdbcType="VARCHAR" property="accionesIncidencia" />
    <result column="NOMBRE_RECEPCIONA_INCIDENCIA" jdbcType="VARCHAR" property="nombreRecepcionaIncidencia" />
    <result column="DNI_RECEPCIONA_INCIDENCIA" jdbcType="VARCHAR" property="dniRecepcionaIncidencia" />
    <result column="NRO_CASO_VOXIVA" jdbcType="VARCHAR" property="nroCasoVoxiva" />
    <result column="TELEF_REPORTA_INCIDENCIA" jdbcType="VARCHAR" property="telefReportaIncidencia" />
    <result column="INCIDENCIA_PRESENTADA" jdbcType="VARCHAR" property="incidenciaPresentada" />
    <result column="MEDIO_INGRESO" jdbcType="INTEGER" property="medioIngreso" />
    <result column="ESTADO_CALIF_VOXIVA" jdbcType="VARCHAR" property="estadoCalifVoxiva" />
    <result column="ESTADO_VOXIVA" jdbcType="VARCHAR" property="estadoVoxiva" />
    <result column="DES_ESTADO_VOXIVA" jdbcType="VARCHAR" property="desEstadoVoxiva" />
    <result column="SUB_ESTADO_VOXIVA" jdbcType="VARCHAR" property="subEstadoVoxiva" />
    <result column="DES_SUB_ESTADO_VOXIVA" jdbcType="VARCHAR" property="desSubEstadoVoxiva" />
    <result column="DES_ESTADO_CALIF_VOXIVA" jdbcType="VARCHAR" property="desEstadoCalifVoxiva" />
    <result column="UNID_INTERV_VOXIVA" jdbcType="VARCHAR" property="unidIntervVoxiva" />
    <result column="DES_UNID_INTERV_VOXIVA" jdbcType="VARCHAR" property="desUnidIntervVoxiva" />
    <result column="IMPORTANTE_VOXIVA" jdbcType="VARCHAR" property="importanteVoxiva" />
    <result column="LLAMADA_DEVUELTA_VOXIVA" jdbcType="VARCHAR" property="llamadaDevueltaVoxiva" />
    <result column="FECHA_HORA_ATENCION_VOXIVA" jdbcType="VARCHAR" property="fechaHoraAtencionVoxiva" />
    <result column="IND_LEIDO" jdbcType="VARCHAR" property="indLeido" />

     <collection property="lineas" column="ID_INCIDENCIA" ofType="pe.gob.miraflores.mobile.domain.mapaincidencias.GeometriaLinea" javaType="ArrayList" resultMap="lineasMap"/>
     
     <collection property="dias" column="ID_INCIDENCIA" ofType="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciaSchedule" javaType="ArrayList" resultMap="diasMap"/>

    </resultMap>
	
	
	 <resultMap id="lineasMap" type="pe.gob.miraflores.mobile.domain.mapaincidencias.GeometriaLinea">

        <id column="ID_LINEA" property="idLinea" jdbcType="INTEGER" />
	    <result column="POINT_INI" property="pointIni" jdbcType="VARCHAR" />
	    <result column="POINT_FIN" property="pointFin" jdbcType="VARCHAR" />
	    <result column="DES_CALLE" property="desCalle" jdbcType="VARCHAR" />
	    <result column="INTERCEPCION_1" property="intercepcion1" jdbcType="VARCHAR" />
	    <result column="INTERCEPCION_2" property="intercepcion2" jdbcType="VARCHAR" />
	    <result column="ID_INCIDENCIA" property="idIncidencia" jdbcType="INTEGER" />
	    <result column="DIR_CARDINAL" property="dirCardinal" jdbcType="VARCHAR" />

     </resultMap>
     
      <resultMap id="diasMap" type="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciaSchedule">

        <id column="ID" jdbcType="INTEGER" property="id" />
	    <result column="ID_INCIDENCIA" jdbcType="INTEGER" property="idIncidencia" />
	    <result column="HORA_INICIO" jdbcType="VARCHAR" property="horaInicio" />
	    <result column="HORA_FIN" jdbcType="VARCHAR" property="horaFin" />
	    <result column="DES_DIA" jdbcType="VARCHAR" property="desDia" />
	    <result column="FEC_REGISTRA" jdbcType="TIMESTAMP" property="fecRegistra" />
	    <result column="ESTADO" jdbcType="VARCHAR" property="estado" />
    
     </resultMap>
     
     
     
     <select id="selectListWazeService" parameterType="HashMap" resultMap="incidenciaMap" >
     
	     SELECT 
	     	M.*,L.*,S.*
	     FROM 
	     	GEO_INCIDENCIA_MAP M
		 INNER JOIN 
		 	GEO_MAP_INICIDENCIA_LINEA L 
		 ON 
		 	M.ID_INCIDENCIA = L.ID_INCIDENCIA
		 INNER JOIN 
		 	GEO_MAP_INICIDENCIA_SCHEDULE S 
		 ON 
		 	M.ID_INCIDENCIA = S.ID_INCIDENCIA	
     	WHERE
     		M.ESTADO = 'A' and M.TIPO_INCIDENCIA=8766  and M.visible='S' 
     		and (SELECT CURRENT TIMESTAMP FROM SYSIBM.SYSDUMMY1) <![CDATA[ <= ]]> M.FEC_HORA_FIN
     </select>
     
     
     <!-- Voxiva list -->
     
     	<resultMap id="incidenciaMapVoxiva" type="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasRegistro">

         <id column="ID_INCIDENCIA" jdbcType="INTEGER" property="idIncidencia" />
    <result column="ID_EVENTO" jdbcType="INTEGER" property="idEvento" />
    <result column="TIPO_EVENTO" jdbcType="INTEGER" property="tipoEvento" />
    <result column="SUB_TIPO" jdbcType="INTEGER" property="subTipo" />
    <result column="FEC_HORA_INICIO" jdbcType="TIMESTAMP" property="fecHoraInicio" />
    <result column="FEC_HORA_FIN" jdbcType="TIMESTAMP" property="fecHoraFin" />
    <result column="DESCRIPCION" jdbcType="VARCHAR" property="descripcion" />
    <result column="SEVERIDAD" jdbcType="VARCHAR" property="severidad" />
    <result column="CALLE" jdbcType="VARCHAR" property="calle" />
    <result column="TIPO_DIRECCION" jdbcType="INTEGER" property="tipoDireccion" />
    <result column="DIRECCION_FINAL" jdbcType="VARCHAR" property="direccionFinal" />
    <result column="NOMBRE_CALLE_INICIO" jdbcType="VARCHAR" property="nombreCalleInicio" />
    <result column="NOMBRE_CALLE_FIN" jdbcType="VARCHAR" property="nombreCalleFin" />
    <result column="FEC_REGISTRA" jdbcType="TIMESTAMP" property="fecRegistra" />
    <result column="FEC_MODIFICA" jdbcType="TIMESTAMP" property="fecModifica" />
    <result column="DES_USU_REGISTRA" jdbcType="VARCHAR" property="desUsuRegistra" />
    <result column="DES_USU_MODIFICA" jdbcType="VARCHAR" property="desUsuModifica" />
    <result column="DES_IP_REGISTRA" jdbcType="VARCHAR" property="desIpRegistra" />
    <result column="DES_IP_MODIFICA" jdbcType="VARCHAR" property="desIpModifica" />
    <result column="ID_TIPO_VIA" jdbcType="INTEGER" property="idTipoVia" />
    <result column="CUADRA_EVENTO" jdbcType="INTEGER" property="cuadraEvento" />
    <result column="ID_VIA" jdbcType="INTEGER" property="idVia" />
    <result column="ID_CASO_VOXIVA" jdbcType="INTEGER" property="idCasoVoxiva" />
    <result column="TIPO_CASO_VOXIVA" jdbcType="INTEGER" property="tipoCasoVoxiva" />
    <result column="SUB_TIPO_CASO_VOXIVA" jdbcType="INTEGER" property="subTipoCasoVoxiva" />
    <result column="TIPO_INCIDENCIA" jdbcType="INTEGER" property="tipoIncidencia" />
    <result column="ID_VIA_CATASTRO" jdbcType="INTEGER" property="idViaCatastro" />
    <result column="ID_TIPO_VIA_CATASTRO" jdbcType="INTEGER" property="idTipoViaCatastro" />
    <result column="ESTADO" jdbcType="VARCHAR" property="estado" />
    <result column="TIPO_CIERRE" jdbcType="VARCHAR" property="tipoCierre" />
    <result column="DES_CALLLES" jdbcType="VARCHAR" property="desCallles" />
    <result column="USUARIO_REGISTRO" jdbcType="INTEGER" property="usuarioRegistro" />
    <result column="USUARIO_MODIFICA" jdbcType="INTEGER" property="usuarioModifica" />
    <result column="VISIBLE" jdbcType="VARCHAR" property="visible" />
    <result column="ID_DISPOSITIVO" jdbcType="VARCHAR" property="idDispositivo" />
    <result column="HORA_LLAMADA_VOXIVA" jdbcType="VARCHAR" property="horaLlamadaVoxiva" />
    <result column="NOMBRE_REPORTA_INCIDENCIA" jdbcType="VARCHAR" property="nombreReportaIncidencia" />
    <result column="DIRECCION_INCIDENCIA" jdbcType="VARCHAR" property="direccionIncidencia" />
    <result column="ACCIONES_INCIDENCIA" jdbcType="VARCHAR" property="accionesIncidencia" />
    <result column="NOMBRE_RECEPCIONA_INCIDENCIA" jdbcType="VARCHAR" property="nombreRecepcionaIncidencia" />
    <result column="DNI_RECEPCIONA_INCIDENCIA" jdbcType="VARCHAR" property="dniRecepcionaIncidencia" />
    <result column="NRO_CASO_VOXIVA" jdbcType="VARCHAR" property="nroCasoVoxiva" />
    <result column="TELEF_REPORTA_INCIDENCIA" jdbcType="VARCHAR" property="telefReportaIncidencia" />
    <result column="INCIDENCIA_PRESENTADA" jdbcType="VARCHAR" property="incidenciaPresentada" />
    <result column="MEDIO_INGRESO" jdbcType="INTEGER" property="medioIngreso" />
    <result column="ESTADO_CALIF_VOXIVA" jdbcType="VARCHAR" property="estadoCalifVoxiva" />
    <result column="ESTADO_VOXIVA" jdbcType="VARCHAR" property="estadoVoxiva" />
    <result column="DES_ESTADO_VOXIVA" jdbcType="VARCHAR" property="desEstadoVoxiva" />
    <result column="SUB_ESTADO_VOXIVA" jdbcType="VARCHAR" property="subEstadoVoxiva" />
    <result column="DES_SUB_ESTADO_VOXIVA" jdbcType="VARCHAR" property="desSubEstadoVoxiva" />
    <result column="DES_ESTADO_CALIF_VOXIVA" jdbcType="VARCHAR" property="desEstadoCalifVoxiva" />
    <result column="UNID_INTERV_VOXIVA" jdbcType="VARCHAR" property="unidIntervVoxiva" />
    <result column="DES_UNID_INTERV_VOXIVA" jdbcType="VARCHAR" property="desUnidIntervVoxiva" />
    <result column="IMPORTANTE_VOXIVA" jdbcType="VARCHAR" property="importanteVoxiva" />
    <result column="LLAMADA_DEVUELTA_VOXIVA" jdbcType="VARCHAR" property="llamadaDevueltaVoxiva" />
    <result column="FECHA_HORA_ATENCION_VOXIVA" jdbcType="VARCHAR" property="fechaHoraAtencionVoxiva" />
    <result column="IND_LEIDO" jdbcType="VARCHAR" property="indLeido" />

     <association property="geometria" resultMap="geometriaVoxivaBaseResultMap"/>

    </resultMap>
    
    
     <resultMap id="geometriaVoxivaBaseResultMap" type="pe.gob.miraflores.mobile.domain.mapaincidencias.MapaIncidenciasGeometria" >
	    <id column="IDGEOREFERENCIA" property="idgeoreferencia" jdbcType="INTEGER" />
	    <result column="IDETIPOGEOMETRIA" property="idetipogeometria" jdbcType="INTEGER" />
	    <result column="GEOMETRIA" property="geometria" jdbcType="VARCHAR" />
	    <result column="IDECODVALOR" property="idecodvalor" jdbcType="INTEGER" />
	    <result column="IDECODIDENT" property="idecodident" jdbcType="INTEGER" />
	    <result column="INDESTADO" property="indestado" jdbcType="INTEGER" />
	    <result column="DESDIRECCION" property="desdireccion" jdbcType="VARCHAR" />
	    <result column="ORDEN" property="orden" jdbcType="INTEGER" />
	  </resultMap>
    
    
     
      <select id="selectVoxivaListMap" parameterType="HashMap" resultMap="incidenciaMapVoxiva" >
     
	      SELECT 
	      		I.*,G.* 
	      FROM 
	      		GEO_INCIDENCIA_MAP I
		  INNER JOIN 
		  		GEOMGEOMETRIA G ON (I.ID_INCIDENCIA = G.IDECODVALOR AND G.IDECODIDENT = 8750 )
		  WHERE 
		  		I.TIPO_INCIDENCIA = 8765 AND I.ESTADO = 'A' AND I.VISIBLE = 'S' AND I.ESTADO_CALIF_VOXIVA NOT IN ('2','3','4','5')
		  
		  <if test="ID_INCIDENCIA != null">
				AND UPPER(A.HORA_LLAMADA_VOXIVA) LIKE UPPER('${HORA_LLAMADA_VOXIVA}%')
		  </if> 	

     </select>
     
     
     
   
  
</mapper>